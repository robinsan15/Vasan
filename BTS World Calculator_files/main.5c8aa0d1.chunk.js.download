(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{116:function(e,a){},118:function(e,a){},128:function(e,a,t){},158:function(e,a,t){},220:function(e,a,t){},225:function(e,a,t){"use strict";t.r(a);t(88),t(89);var r=t(0),n=t.n(r),c=t(76),_=t.n(c),s=(t(94),t(1)),o=(t(95),t(14)),l=t(13);function i(e,a,t){var r=window.gtag;if(r){var n={event_category:e};"undefined"!==typeof t&&("string"===typeof t?n.event_label=t:n.value=t),r("event",a,n)}}var d={collection:{addCard:function(){return i("collection","add")},removeCard:function(){return i("collection","remove")},increaseCardLevel:function(){return i("collection","increase_card_level")},decreaseCardLevel:function(){return i("collection","decrease_card_level")},filter:function(e){return i("collection","filter",e)},sort:function(){return i("collection","sort","power")}},database:{filter:function(e){return i("database","filter",e)}},simulation:{increaseCardLevel:function(){return i("simulation","increase_card_level")},decreaseCardLevel:function(){return i("simulation","decrease_card_level")},resetLevels:function(){return i("simulation","reset_levels")}},solver:{changeStage:function(){return i("solver","change_stage")},changeWorld:function(){return i("solver","change_world")},nextStage:function(){return i("solver","next_stage")},prevStage:function(){return i("solver","prev_stage")},updateAgencyStat:function(){return i("solver","change_agency_stat")},updateStageResultType:function(e){return i("solver","change_solution_type",e)}},rewards:{changeWorld:function(){return i("rewards","change_world")},filterAgencyItemMember:function(){return i("rewards","filter_agency_item_member")},filterCraftableCard:function(){return i("rewards","filter_craftable_card")}},recommendations:{changeStage:function(){return i("recommendations","change_stage")},changeWorld:function(){return i("recommendations","change_world")},nextStage:function(){return i("solver","next_stage")},prevStage:function(){return i("solver","prev_stage")},selectCard:function(){return i("recommendations","select_card")},unselectCard:function(){return i("recommendations","unselect_card")}},importExport:{selectAll:function(){return i("export","select_all")},save:function(){return i("import","save")}},changePage:function(e){return function(e){var a=window.gtag;a&&a("config","UA-144126636-1",{page_path:e})}(e)}},u=t(7),m=t(4),f=t(2),p=t(10),g=t.n(p),v=function(){return["RM","Jin","Suga","J-Hope","Jimin","V","Jungkook"]},h=function(e){return v().map(function(a){return e(a)})},j=t(77),b=t.n(j),E=t(78),y=t.n(E);var k={};function S(){return new Promise(function(e){new Promise(function(e){fetch(b.a).then(function(e){return e.text()}).then(function(a){var t=g()(a,{delimiter:",",columns:!0}),r={};t.forEach(function(e){var a=parseInt(e.chapter),t=parseInt(e.mission),n=parseInt(e.wings),c=parseInt(e.exp),_=parseInt(e.goldMin),s=parseInt(e.goldMax),o=parseInt(e.flower1Min),l=parseInt(e.flower1Max),i=parseInt(e.flower2Min),d=parseInt(e.flower2Max),u=parseInt(e.flower3Min),m=parseInt(e.flower3Max),f=e.agencyItemMember,p=parseInt(e.agencyItemLevel),g="".concat(a,"-").concat(t),v=[];0!==o&&v.push({level:1,min:o,max:l}),0!==i&&v.push({level:2,min:i,max:d}),0!==u&&v.push({level:3,min:u,max:m});var h={id:g,chapter:a,mission:t,wings:n,exp:c,gold:{min:_,max:s},flowers:v,agencyItem:{member:f,maxLevel:p}};r[g]=h}),e(r)})}).then(function(e){return k.MainStory=e,function(){var e={};return h(function(a){return e["AnotherStory-".concat(a)]={}}),new Promise(function(a){fetch(y.a).then(function(e){return e.text()}).then(function(a){g()(a,{delimiter:",",columns:!0}).forEach(function(a){var t=a.member,r=parseInt(a.chapter),n=parseInt(a.mission),c=parseInt(a.wings),_=parseInt(a.exp),s=parseInt(a.goldMin),o=parseInt(a.goldMax),l=a.craftableCardId,i="".concat(r,"-").concat(n),d={id:i,chapter:r,wings:c,mission:n,exp:_,gold:{min:s,max:o},craftableCardId:l};e["AnotherStory-".concat(t)][i]=d})}),a(e)})}()}).then(function(a){Object.keys(a).forEach(function(e){return k[e]=a[e]}),e(k)})})}function C(){return k}var w,x=function(e){return["empathy","passion","stamina","wisdom"].map(function(a){return e(a)})},O=function(e){var a={};return["empathy","passion","stamina","wisdom"].forEach(function(t){return a[t]=e(t)}),a},I=t(79),A=t.n(I);function M(){return new Promise(function(e){fetch(A.a).then(function(e){return e.text()}).then(function(a){var t=g()(a,{delimiter:",",columns:!0}),r={};t.forEach(function(e){var a=e.id,t=e.member,n=parseInt(e.stars),c=e.name,_=e.primaryStat,s=parseInt(e.empathy),o=parseInt(e.passion),l=parseInt(e.stamina),i=parseInt(e.wisdom),d=n>=3?50:0;r[a]={id:a,member:t,star:n,name:c,primaryStat:_,maxLevel1:30,maxLevel2:d,baseStats:{empathy:s,passion:o,stamina:l,wisdom:i}}}),e(r)})}).then(function(e){return w=e})}function L(){return w}var N={primary:[-1,24,30,35,39,45],default:[-1,16,20,23,26,30]},R={purple:["card_5star_rm_003","card_5star_rm_009","card_5star_jin_002","card_5star_jin_009","card_5star_suga_003","card_5star_suga_009","card_5star_jhope_004","card_5star_jhope_009","card_5star_jimin_004","card_5star_jimin_009","card_5star_v_003","card_5star_v_009","card_5star_jungkook_002","card_5star_jungkook_009","card_5star_rm_007","card_5star_rm_011","card_5star_jin_007","card_5star_jin_011","card_5star_suga_007","card_5star_suga_011","card_5star_jhope_007","card_5star_jhope_011","card_5star_jimin_007","card_5star_jimin_011","card_5star_v_007","card_5star_v_011","card_5star_jungkook_007","card_5star_jungkook_011"],blue:["card_5star_jhope_001","card_5star_jhope_002","card_5star_jhope_006","card_5star_jhope_007","card_5star_jhope_008","card_5star_jhope_010","card_5star_jhope_012","card_5star_jimin_001","card_5star_jimin_002","card_5star_jimin_006","card_5star_jimin_007","card_5star_jimin_008","card_5star_jimin_010","card_5star_jimin_012","card_5star_jin_001","card_5star_jin_003","card_5star_jin_006","card_5star_jin_007","card_5star_jin_008","card_5star_jin_010","card_5star_jin_012","card_5star_jungkook_001","card_5star_jungkook_004","card_5star_jungkook_006","card_5star_jungkook_007","card_5star_jungkook_008","card_5star_jungkook_010","card_5star_jungkook_012","card_5star_rm_001","card_5star_rm_002","card_5star_rm_006","card_5star_rm_007","card_5star_rm_008","card_5star_rm_010","card_5star_rm_012","card_5star_suga_001","card_5star_suga_002","card_5star_suga_006","card_5star_suga_007","card_5star_suga_008","card_5star_suga_010","card_5star_suga_012","card_5star_v_001","card_5star_v_002","card_5star_v_006","card_5star_v_007","card_5star_v_008","card_5star_v_010","card_5star_v_012","card_4star_jhope_001","card_4star_jhope_002","card_4star_jhope_012","card_4star_jhope_013","card_4star_jhope_015","card_4star_jhope_017","card_4star_jhope_018","card_4star_jhope_019","card_4star_jimin_001","card_4star_jimin_002","card_4star_jimin_012","card_4star_jimin_013","card_4star_jimin_015","card_4star_jimin_018","card_4star_jimin_019","card_4star_jimin_020","card_4star_jin_002","card_4star_jin_003","card_4star_jin_012","card_4star_jin_013","card_4star_jin_015","card_4star_jin_017","card_4star_jin_019","card_4star_jin_020","card_4star_jungkook_001","card_4star_jungkook_003","card_4star_jungkook_012","card_4star_jungkook_013","card_4star_jungkook_015","card_4star_jungkook_017","card_4star_jungkook_018","card_4star_jungkook_020","card_4star_rm_002","card_4star_rm_003","card_4star_rm_012","card_4star_rm_013","card_4star_rm_015","card_4star_rm_017","card_4star_rm_018","card_4star_rm_020","card_4star_suga_001","card_4star_suga_002","card_4star_suga_003","card_4star_suga_012","card_4star_suga_013","card_4star_suga_015","card_4star_suga_017","card_4star_suga_019","card_4star_v_001","card_4star_v_002","card_4star_v_003","card_4star_v_012","card_4star_v_013","card_4star_v_015","card_4star_v_017","card_4star_v_020"],yellow:["card_5star_jhope_001","card_5star_jhope_002","card_5star_jhope_006","card_5star_jhope_007","card_5star_jhope_008","card_5star_jhope_010","card_5star_jhope_012","card_5star_jimin_001","card_5star_jimin_002","card_5star_jimin_006","card_5star_jimin_007","card_5star_jimin_008","card_5star_jimin_010","card_5star_jimin_012","card_5star_jin_001","card_5star_jin_003","card_5star_jin_006","card_5star_jin_007","card_5star_jin_008","card_5star_jin_010","card_5star_jin_012","card_5star_jungkook_001","card_5star_jungkook_004","card_5star_jungkook_006","card_5star_jungkook_007","card_5star_jungkook_008","card_5star_jungkook_010","card_5star_jungkook_012","card_5star_rm_001","card_5star_rm_002","card_5star_rm_006","card_5star_rm_007","card_5star_rm_008","card_5star_rm_010","card_5star_rm_012","card_5star_suga_001","card_5star_suga_002","card_5star_suga_006","card_5star_suga_007","card_5star_suga_008","card_5star_suga_010","card_5star_suga_012","card_5star_v_001","card_5star_v_002","card_5star_v_006","card_5star_v_007","card_5star_v_008","card_5star_v_010","card_5star_v_012"],gem:["card_5star_jhope_001","card_5star_jhope_002","card_5star_jhope_006","card_5star_jhope_007","card_5star_jhope_008","card_5star_jhope_010","card_5star_jhope_012","card_5star_jimin_001","card_5star_jimin_002","card_5star_jimin_006","card_5star_jimin_007","card_5star_jimin_008","card_5star_jimin_010","card_5star_jimin_012","card_5star_jin_001","card_5star_jin_003","card_5star_jin_006","card_5star_jin_007","card_5star_jin_008","card_5star_jin_010","card_5star_jin_012","card_5star_jungkook_001","card_5star_jungkook_004","card_5star_jungkook_006","card_5star_jungkook_007","card_5star_jungkook_008","card_5star_jungkook_010","card_5star_jungkook_012","card_5star_rm_001","card_5star_rm_002","card_5star_rm_006","card_5star_rm_007","card_5star_rm_008","card_5star_rm_010","card_5star_rm_012","card_5star_suga_001","card_5star_suga_002","card_5star_suga_006","card_5star_suga_007","card_5star_suga_008","card_5star_suga_010","card_5star_suga_012","card_5star_v_001","card_5star_v_002","card_5star_v_006","card_5star_v_007","card_5star_v_008","card_5star_v_010","card_5star_v_012","card_4star_jhope_001","card_4star_jhope_002","card_4star_jhope_012","card_4star_jhope_013","card_4star_jhope_015","card_4star_jhope_017","card_4star_jhope_018","card_4star_jhope_019","card_4star_jimin_001","card_4star_jimin_002","card_4star_jimin_012","card_4star_jimin_013","card_4star_jimin_015","card_4star_jimin_018","card_4star_jimin_019","card_4star_jimin_020","card_4star_jin_002","card_4star_jin_003","card_4star_jin_012","card_4star_jin_013","card_4star_jin_015","card_4star_jin_017","card_4star_jin_019","card_4star_jin_020","card_4star_jungkook_001","card_4star_jungkook_003","card_4star_jungkook_012","card_4star_jungkook_013","card_4star_jungkook_015","card_4star_jungkook_017","card_4star_jungkook_018","card_4star_jungkook_020","card_4star_rm_002","card_4star_rm_003","card_4star_rm_012","card_4star_rm_013","card_4star_rm_015","card_4star_rm_017","card_4star_rm_018","card_4star_rm_020","card_4star_suga_001","card_4star_suga_002","card_4star_suga_003","card_4star_suga_012","card_4star_suga_013","card_4star_suga_015","card_4star_suga_017","card_4star_suga_019","card_4star_v_001","card_4star_v_002","card_4star_v_003","card_4star_v_012","card_4star_v_013","card_4star_v_015","card_4star_v_017","card_4star_v_020","card_3star_jhope_002","card_3star_jhope_016","card_3star_jhope_017","card_3star_jhope_018","card_3star_jhope_019","card_3star_jhope_020","card_3star_jhope_023","card_3star_jhope_024","card_3star_jimin_002","card_3star_jimin_016","card_3star_jimin_017","card_3star_jimin_018","card_3star_jimin_019","card_3star_jimin_020","card_3star_jimin_023","card_3star_jimin_024","card_3star_jin_002","card_3star_jin_016","card_3star_jin_017","card_3star_jin_018","card_3star_jin_019","card_3star_jin_020","card_3star_jin_023","card_3star_jin_024","card_3star_jungkook_002","card_3star_jungkook_016","card_3star_jungkook_017","card_3star_jungkook_018","card_3star_jungkook_019","card_3star_jungkook_021","card_3star_jungkook_023","card_3star_jungkook_024","card_3star_rm_002","card_3star_rm_016","card_3star_rm_017","card_3star_rm_018","card_3star_rm_019","card_3star_rm_020","card_3star_rm_023","card_3star_rm_024","card_3star_suga_002","card_3star_suga_016","card_3star_suga_017","card_3star_suga_018","card_3star_suga_019","card_3star_suga_020","card_3star_suga_023","card_3star_suga_024","card_3star_v_002","card_3star_v_016","card_3star_v_017","card_3star_v_018","card_3star_v_019","card_3star_v_020","card_3star_v_023","card_3star_v_024"],gold:["card_3star_jhope_001","card_3star_jhope_007","card_3star_jhope_008","card_3star_jhope_014","card_3star_jhope_015","card_3star_jimin_001","card_3star_jimin_009","card_3star_jimin_014","card_3star_jimin_015","card_3star_jimin_021","card_3star_jin_001","card_3star_jin_007","card_3star_jin_008","card_3star_jin_014","card_3star_jin_021","card_3star_jungkook_001","card_3star_jungkook_009","card_3star_jungkook_014","card_3star_jungkook_015","card_3star_jungkook_020","card_3star_rm_001","card_3star_rm_007","card_3star_rm_008","card_3star_rm_015","card_3star_rm_021","card_3star_suga_001","card_3star_suga_007","card_3star_suga_010","card_3star_suga_014","card_3star_suga_021","card_3star_v_001","card_3star_v_008","card_3star_v_014","card_3star_v_015","card_3star_v_021","card_2star_jhope_001","card_2star_jhope_002","card_2star_jhope_003","card_2star_jhope_004","card_2star_jhope_006","card_2star_jimin_001","card_2star_jimin_002","card_2star_jimin_003","card_2star_jimin_004","card_2star_jimin_005","card_2star_jin_001","card_2star_jin_002","card_2star_jin_003","card_2star_jin_005","card_2star_jin_006","card_2star_jungkook_001","card_2star_jungkook_002","card_2star_jungkook_003","card_2star_jungkook_004","card_2star_jungkook_007","card_2star_rm_001","card_2star_rm_002","card_2star_rm_003","card_2star_rm_004","card_2star_rm_005","card_2star_suga_002","card_2star_suga_004","card_2star_suga_005","card_2star_suga_006","card_2star_suga_007","card_2star_v_004","card_2star_v_006","card_2star_v_008","card_2star_v_009","card_2star_v_010","card_1star_jhope_003","card_1star_jhope_004","card_1star_jhope_005","card_1star_jhope_009","card_1star_jhope_010","card_1star_jimin_003","card_1star_jimin_004","card_1star_jimin_005","card_1star_jimin_009","card_1star_jimin_010","card_1star_jin_005","card_1star_jin_006","card_1star_jin_007","card_1star_jin_009","card_1star_jin_010","card_1star_jungkook_003","card_1star_jungkook_004","card_1star_jungkook_005","card_1star_jungkook_009","card_1star_jungkook_010","card_1star_rm_003","card_1star_rm_004","card_1star_rm_005","card_1star_rm_009","card_1star_rm_010","card_1star_suga_003","card_1star_suga_004","card_1star_suga_005","card_1star_suga_009","card_1star_suga_010","card_1star_v_003","card_1star_v_004","card_1star_v_005","card_1star_v_009","card_1star_v_010"],memberDraw:["card_5star_jin_001","card_5star_jin_003","card_5star_jin_006","card_5star_jin_007","card_5star_jin_008","card_5star_jin_010","card_5star_jin_012","card_4star_jin_002","card_4star_jin_003","card_4star_jin_012","card_4star_jin_013","card_4star_jin_015","card_4star_jin_017","card_4star_jin_019","card_4star_jin_020","card_5star_suga_001","card_5star_suga_002","card_5star_suga_006","card_5star_suga_007","card_5star_suga_008","card_5star_suga_010","card_5star_suga_012","card_4star_suga_001","card_4star_suga_002","card_4star_suga_003","card_4star_suga_012","card_4star_suga_013","card_4star_suga_015","card_4star_suga_017","card_4star_suga_019","card_5star_jhope_001","card_5star_jhope_002","card_5star_jhope_006","card_5star_jhope_007","card_5star_jhope_008","card_5star_jhope_010","card_5star_jhope_012","card_4star_jhope_001","card_4star_jhope_002","card_4star_jhope_012","card_4star_jhope_013","card_4star_jhope_015","card_4star_jhope_017","card_4star_jhope_018","card_4star_jhope_019","card_5star_rm_001","card_5star_rm_002","card_5star_rm_006","card_5star_rm_007","card_5star_rm_008","card_5star_rm_010","card_5star_rm_012","card_4star_rm_002","card_4star_rm_003","card_4star_rm_012","card_4star_rm_013","card_4star_rm_015","card_4star_rm_017","card_4star_rm_018","card_4star_rm_020","card_5star_jimin_001","card_5star_jimin_002","card_5star_jimin_006","card_5star_jimin_007","card_5star_jimin_008","card_5star_jimin_010","card_5star_jimin_012","card_4star_jimin_001","card_4star_jimin_002","card_4star_jimin_012","card_4star_jimin_013","card_4star_jimin_015","card_4star_jimin_018","card_4star_jimin_019","card_4star_jimin_020","card_5star_v_001","card_5star_v_002","card_5star_v_006","card_5star_v_007","card_5star_v_008","card_5star_v_010","card_5star_v_012","card_4star_v_001","card_4star_v_002","card_4star_v_003","card_4star_v_012","card_4star_v_013","card_4star_v_015","card_4star_v_017","card_4star_v_020","card_5star_jungkook_001","card_5star_jungkook_004","card_5star_jungkook_006","card_5star_jungkook_007","card_5star_jungkook_008","card_5star_jungkook_010","card_5star_jungkook_012","card_4star_jungkook_001","card_4star_jungkook_003","card_4star_jungkook_012","card_4star_jungkook_013","card_4star_jungkook_015","card_4star_jungkook_017","card_4star_jungkook_018","card_4star_jungkook_020"]},B=function(e){return e.split("|").map(function(e){var a=e.split(","),t=Object(s.a)(a,2);return{member:t[0],trait:t[1]}})},P=function(e){return 0===e.length?[]:e.split("|").map(function(e){var a=e.split(","),t=Object(s.a)(a,2),r=t[0],n=t[1];return{hashtagId:r,multiplier:parseInt(n)}})},T=function(e,a){return e.cardIds.map(function(e){return a[e]})},W=t(80),D=t.n(W);var Y={};function F(){return new Promise(function(e){fetch(D.a).then(function(e){return e.text()}).then(function(a){var t=g()(a,{delimiter:",",columns:!0}),r={};t.forEach(function(e){var a=e.hashtagId,t={id:a,hashtagName:e.hashtagName,cardIds:JSON.parse(e.cards)};r[a]=t}),e(r)})}).then(function(e){return Y=e})}function J(){return Y}function G(e,a,t){return Math.floor(a*t.statMultipler[e]/100)}var H=function(e,a){return Object(f.a)({},e,{level:a,stats:O(function(t){return function(e,a,t,r,n){var c=N.default[n];return e.toLowerCase()===t.toLowerCase()&&(c=N.primary[n]),a+(r-1)*c}(t,e.baseStats[t],e.primaryStat,a,e.star)})})},X=new Intl.NumberFormat,U=function(e){return X.format(e)},V=new Intl.NumberFormat(X.resolvedOptions().locale,{minimumFractionDigits:2,maximumFractionDigits:2}),q=function(e){return V.format(e)};function $(e,a){return-(Object.values(e.stats).reduce(function(e,a){return e+a})-Object.values(a.stats).reduce(function(e,a){return e+a}))}var z=function(e){return e.star<=2?30:50},K=(t(128),function(e){return n.a.createElement("span",{className:"trait-label"},n.a.createElement("i",{className:"trait-icon ".concat(e.trait)}),n.a.createElement("span",{className:"trait-label-text"},e.text))}),Q=t(44),Z={get:t.n(Q).a};function ee(e){return(a=e)instanceof Array&&a.every(function(e){return"string"===typeof e})?e.map(function(e,a){return n.a.createElement("option",{key:a,value:e},e)}):e.map(function(e,a){var t=e.label,r=e.value;return n.a.createElement("option",{key:a,value:r},t)});var a}function ae(e){if(!e.filter)return null;var a=e.filter;return void 0!==a.options?function(e){return n.a.createElement("select",{value:e.value,onChange:function(a){return e.onChange(a.target.value)}},ee(e.options))}(a):a()}var te=function(e){return n.a.createElement("div",null,n.a.createElement("table",null,n.a.createElement("thead",null,n.a.createElement("tr",null,e.columnConfigs.map(function(e,a){return n.a.createElement("th",{key:"header-col-".concat(a)},e.header)}))),n.a.createElement("tbody",null,n.a.createElement("tr",null,function(e){return e.map(function(e,a){return n.a.createElement("td",{key:"filter-col-".concat(a)},e.filter&&ae(e))})}(e.columnConfigs)),e.data.filter(e.filter).sort(function(a,t){return e.sort?e.sort(a,t):0}).map(function(a,t){return function(a,t){var r=e.rowStyle?e.rowStyle(a):"";return n.a.createElement("tr",{key:"row-".concat(t),className:r},e.columnConfigs.map(function(e,r){var c="text-"+Z.get(e,"options.align","center");if("string"===typeof e.cell)return n.a.createElement("td",{key:"col-".concat(r),className:c},Z.get(a,e.cell));if("value"in e.cell)return n.a.createElement("td",{key:"col-".concat(r),className:c},e.cell.formatter(Z.get(a,e.cell.value)));var _=e.cell;return n.a.createElement("td",{key:"col-".concat(r),className:c},_(a,t))}))}(a,t)}))))};function re(e,a){return Object(f.a)({},e,Object(m.a)({},a.type,a.value))}var ne={empathy:"\u2764",passion:"\u2736",stamina:"\u26a1",wisdom:"\ud83c\udf93"},ce=function(){var e=Object(r.useState)("MainStory"),a=Object(s.a)(e,2),t=a[0],c=a[1],_=Object(r.useReducer)(re,{member:"Any"}),o=Object(s.a)(_,2),l=o[0],i=o[1],m=Object(r.useReducer)(re,{craftableCardId:"All"}),f=Object(s.a)(m,2),p=f[0],g=f[1];function h(e){d.rewards.filterAgencyItemMember(),i({type:"member",value:e})}function j(e){d.rewards.filterCraftableCard(),g({type:"craftableCardId",value:e})}function b(e,a){var t=e.flowers.filter(function(e){return e.level===a});if(0===t.length)return"0";var r=t[0];return r.min===r.max?r.min+"":"".concat(r.min," - ").concat(r.max)}function E(e){if("MainStory"===t){var a=e;return"Any"===l.member||a.agencyItem.member===l.member}var r=e;return"All"===p.craftableCardId||r.craftableCardId===p.craftableCardId}function y(e){var a=L()[e.craftableCardId];return n.a.createElement("span",null,a.star,"\u2605",n.a.createElement(K,{trait:a.primaryStat,text:""}),"\u2027 ",a.name)}return n.a.createElement("div",null,n.a.createElement("h1",null,"Mission Rewards"),n.a.createElement("select",{value:t,onChange:function(e){return a=e.target.value,d.rewards.changeWorld(),c(a),void g({type:"craftableCardId",value:"All"});var a}},Object.keys(C()).map(function(e){return n.a.createElement("option",{key:e},e)})),"MainStory"===t?n.a.createElement(te,{columnConfigs:[{header:"Mission",cell:"id",options:{align:"left"}},{header:"Wings",cell:"wings",options:{align:"right"}},{header:"Recovery Item (tier)",filter:{options:["Any","Random"].concat(Object(u.a)(v())),onChange:h,value:l.member},cell:function(e){return"".concat(e.agencyItem.member," (").concat(e.agencyItem.maxLevel,")")}},{header:"Blossoms",cell:function(e){return b(e,1)},options:{align:"right"}},{header:"Flowers",cell:function(e){return b(e,2)},options:{align:"right"}},{header:"Exp",cell:"exp",options:{align:"right"}},{header:"Exp/Wing",cell:function(e){return q(e.exp/e.wings)}},{header:"Gold",cell:function(e){return"".concat(U(e.gold.min)," - ").concat(U(e.gold.max))},options:{align:"right"}},{header:"Gold/Wing",cell:function(e){return q((e.gold.min+e.gold.max)/(2*e.wings))},options:{align:"right"}}],data:Object.values(C()[t]),filter:E}):n.a.createElement(te,{columnConfigs:[{header:"Mission",cell:"id",options:{align:"left"}},{header:"Wings",cell:"wings",options:{align:"right"}},{header:"Craftable Card",filter:{options:[{label:"All",value:"All"}].concat(Object(u.a)(Object.values(C()[t]).map(function(e){return e.craftableCardId}).filter(function(e,a,t){return t.indexOf(e)===a}).map(function(e){var a=L()[e];return{label:"".concat(a.star,"\u2605").concat(ne[a.primaryStat]," ","\u2027"," ").concat(a.name),value:e}}))),onChange:j,value:p.craftableCardId},cell:y},{header:"Exp",cell:"exp"},{header:"Exp/Wing",cell:function(e){return q(e.exp/e.wings)},options:{align:"right"}},{header:"Gold",cell:function(e){return"".concat(U(e.gold.min)," - ").concat(U(e.gold.max))},options:{align:"right"}},{header:"Gold/Wing",cell:function(e){return q((e.gold.min+e.gold.max)/(2*e.wings))},options:{align:"right"}}],data:Object.values(C()[t]),filter:E}))};function _e(e,a){return d.database.filter(a.type),Object(f.a)({},e,Object(m.a)({},a.type,a.value))}var se=function(e){var a=Object(r.useReducer)(_e,{member:"All",star:"All",primaryStat:"All"}),t=Object(s.a)(a,2),c=t[0],_=t[1];return n.a.createElement("div",null,n.a.createElement(te,{columnConfigs:[{header:"Member",cell:"member",filter:{options:["All"].concat(Object(u.a)(v())),onChange:function(e){return _({type:"member",value:e})},value:c.member}},{header:"Star",cell:"star",filter:{options:["All","5","4","3","2","1"],onChange:function(e){return _({type:"star",value:e})},value:c.star}},{header:"Primary Trait",cell:function(e){return n.a.createElement(K,{trait:e.primaryStat,text:e.primaryStat})},filter:{options:["All","Empathy","Passion","Stamina","Wisdom"],onChange:function(e){return _({type:"primaryStat",value:e})},value:c.primaryStat}},{header:"Name",cell:"name"},{header:n.a.createElement(K,{trait:"empathy",text:"Base Empathy"}),cell:{value:"baseStats.empathy",formatter:U},options:{align:"right"}},{header:n.a.createElement(K,{trait:"passion",text:"Base Passion"}),cell:{value:"baseStats.passion",formatter:U},options:{align:"right"}},{header:n.a.createElement(K,{trait:"stamina",text:"Base Stamina"}),cell:{value:"baseStats.stamina",formatter:U},options:{align:"right"}},{header:n.a.createElement(K,{trait:"wisdom",text:"Base Wisdom"}),cell:{value:"baseStats.wisdom",formatter:U},options:{align:"right"}},{header:"Add to collection",cell:function(a){return n.a.createElement("button",{onClick:function(){return e.addCardToCollection(a.id)}},"Add")}}],data:Object.values(L()),filter:function(a){return function(e,a,t){var r=a.star,n=a.member,c=a.primaryStat;return("All"===r||parseInt(r)===e.star)&&("All"===n||n===e.member)&&("All"===c||c.toLowerCase()===e.primaryStat.toLowerCase())&&!t.hasOwnProperty(e.id)}(a,c,e.cardCollection)}}))};function oe(e,a){return d.collection.filter(a.type),Object(f.a)({},e,Object(m.a)({},a.type,a.value))}var le=function(e){var a=Object(r.useReducer)(oe,{member:"All",star:"All",primaryStat:"All"}),t=Object(s.a)(a,2),c=t[0],_=t[1];if(0===Object.keys(e.cardCollection).length)return n.a.createElement("p",null,"Add cards to your collection from the list below.");return n.a.createElement("div",null,n.a.createElement("h2",null,"Your card collection"),n.a.createElement("button",{onClick:e.resortCardCollection},"Re-sort cards by overall strength"),n.a.createElement(te,{columnConfigs:[{header:"Member",cell:"member",filter:{options:["All"].concat(Object(u.a)(v())),onChange:function(e){return _({type:"member",value:e})},value:c.member}},{header:"Star",cell:"star",filter:{options:["All","5","4","3","2","1"],onChange:function(e){return _({type:"star",value:e})},value:c.star}},{header:"Primary Trait",cell:function(e){return n.a.createElement(K,{trait:e.primaryStat,text:e.primaryStat})},filter:{options:["All","Empathy","Passion","Stamina","Wisdom"],onChange:function(e){return _({type:"primaryStat",value:e})},value:c.primaryStat}},{header:"Name",cell:"name"},{header:"Level",cell:function(a){return n.a.createElement("input",{type:"number",min:"1",value:a.level,onChange:function(t){return e.updateCardLevel(a.id,parseInt(t.target.value))}})}},{header:n.a.createElement(K,{trait:"empathy",text:"Empathy"}),cell:{value:"stats.empathy",formatter:U},options:{align:"right"}},{header:n.a.createElement(K,{trait:"passion",text:"Passion"}),cell:{value:"stats.passion",formatter:U},options:{align:"right"}},{header:n.a.createElement(K,{trait:"stamina",text:"Stamina"}),cell:{value:"stats.stamina",formatter:U},options:{align:"right"}},{header:n.a.createElement(K,{trait:"wisdom",text:"Wisdom"}),cell:{value:"stats.wisdom",formatter:U},options:{align:"right"}},{header:"Remove from collection",cell:function(a){return n.a.createElement("button",{onClick:function(){return e.removeCardFromCollection(a.id)}},"Remove")}}],data:Object.keys(e.cardCollection).map(function(a){return H(L()[a],e.cardCollection[a])}),filter:function(a){return function(e,a,t){var r=a.star,n=a.member,c=a.primaryStat;return("All"===r||parseInt(r)===e.star)&&("All"===n||n===e.member)&&("All"===c||c.toLowerCase()===e.primaryStat.toLowerCase())}(a,c,e.cardCollection)}}))},ie=t(81),de=t.n(ie),ue=t(82),me=t.n(ue),fe=t(83),pe=t.n(fe);function ge(e){return new Promise(function(a){fetch(e).then(function(e){return e.text()}).then(function(e){var t=g()(e,{delimiter:",",columns:!0}),r={};t.forEach(function(e){var a=function(e){var a=parseInt(e.chapter),t=parseInt(e.mission),r=parseInt(e.targetScore1),n=parseInt(e.targetScore2),c=parseInt(e.targetScore3),_=parseInt(e.empathy),s=parseInt(e.passion),o=parseInt(e.stamina),l=parseInt(e.wisdom),i=B(e.cardRestrictions),d=P(e.cardBonuses),u=i.length,m="".concat(a,"-").concat(t);return[m,{id:m,chapter:a,mission:t,targetScore1:r,targetScore2:n,targetScore3:c,numCards:u,statMultipler:{empathy:_,passion:s,stamina:o,wisdom:l},allowableMembers:v(),cardRestrictions:i,cardBonuses:d}]}(e),t=Object(s.a)(a,2),n=t[0],c=t[1];r[n]=c}),a(r)})})}var ve={};function he(){return new Promise(function(e){ge(de.a).then(function(e){return ve.MainStory=e,ge(pe.a)}).then(function(e){return ve.Halloween=e,function(){var e={};return h(function(a){return e["AnotherStory-".concat(a)]={}}),new Promise(function(a){fetch(me.a).then(function(e){return e.text()}).then(function(t){g()(t,{delimiter:",",columns:!0}).forEach(function(a){var t=parseInt(a.chapter),r=parseInt(a.mission),n=parseInt(a.targetScore1),c=parseInt(a.targetScore2),_=parseInt(a.targetScore3),s=parseInt(a.empathy),o=parseInt(a.passion),l=parseInt(a.stamina),i=parseInt(a.wisdom),d=B(a.cardRestrictions),u=P(a.cardBonuses),m=d[0].member,f=d.length,p="".concat(t,"-").concat(r);e["AnotherStory-".concat(m)][p]={id:p,chapter:t,mission:r,targetScore1:n,targetScore2:c,targetScore3:_,numCards:f,statMultipler:{empathy:s,passion:o,stamina:l,wisdom:i},allowableMembers:[m],cardRestrictions:d,cardBonuses:u}}),a(e)})})}()}).then(function(a){Object.keys(a).forEach(function(e){return ve[e]=a[e]}),e(ve)})})}function je(){return ve}var be=function(e){var a=e.stageResults.effectiveAgencyStats,t=e.stageResults.cards.findIndex(function(e){return e.bonusScore>0})>-1;return n.a.createElement("div",null,n.a.createElement("table",null,n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null),n.a.createElement("th",null,n.a.createElement(K,{trait:"empathy",text:"Effective Empathy"})),n.a.createElement("th",null,n.a.createElement(K,{trait:"passion",text:"Effective Passion"})),n.a.createElement("th",null,n.a.createElement(K,{trait:"stamina",text:"Effective Stamina"})),n.a.createElement("th",null,n.a.createElement(K,{trait:"wisdom",text:"Effective Wisdom"})),t&&n.a.createElement("th",null,"Bonus"),n.a.createElement("th",null,"Total"))),n.a.createElement("tbody",null,e.stageResults.cards.map(function(e,a){return n.a.createElement("tr",{key:e.id},n.a.createElement("td",{className:"text-left"},e.member," \u2027 ",e.star,"\u2605",n.a.createElement(K,{trait:e.primaryStat,text:""})," \u2027 lvl ",e.level," ",n.a.createElement("br",null),"  ",e.name," "),x(function(a){return n.a.createElement("td",{key:"card-effective-".concat(a)},U(e.effectiveStats[a]))}),t&&n.a.createElement("td",null,U(e.bonusScore)),n.a.createElement("td",null,U(e.totalScore)))}),n.a.createElement("tr",null,n.a.createElement("td",{className:"text-left"},"Agency"),x(function(e){return n.a.createElement("td",{key:"agency-effective-".concat(e)},U(a[e]))}),t&&n.a.createElement("td",null),n.a.createElement("td",null,U(e.stageResults.agencyScore))),n.a.createElement("tr",null,n.a.createElement("td",{className:"text-left"},n.a.createElement("strong",null,"Grand total")),n.a.createElement("td",null),n.a.createElement("td",null),n.a.createElement("td",null),n.a.createElement("td",null),t&&n.a.createElement("td",null),n.a.createElement("td",null,n.a.createElement("strong",null,U(e.stageResults.totalScore)))))))},Ee=(t(158),t(84)),ye=t.n(Ee),ke=function(e){var a=Object.entries(e.stage.statMultipler).sort(function(e,a){return-(e[1]-a[1])});return n.a.createElement("div",null,n.a.createElement("h2",null,"Mission Details"),n.a.createElement("h3",null,"Chapter ",e.stage.chapter,", Mission ",e.stage.mission),n.a.createElement("div",null,a.map(function(e){var a=Object(s.a)(e,2),t=a[0],r=a[1],c=r>100?"positive":"";return n.a.createElement("div",{key:"".concat(t,"-multiplier"),className:"stat-multiplier "+c},n.a.createElement(K,{trait:t,text:""}),r,"%")})),n.a.createElement("table",null,n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("td",{className:"text-right"},"\u2605\u2605\u2605"),n.a.createElement("td",null,U(e.stage.targetScore3))),n.a.createElement("tr",null,n.a.createElement("td",{className:"text-right"},"\u2605\u2605"),n.a.createElement("td",null,U(e.stage.targetScore2))),n.a.createElement("tr",null,n.a.createElement("td",{className:"text-right"},"\u2605"),n.a.createElement("td",null,U(e.stage.targetScore1))))),function(e){if(0===e.length)return null;var a=e.map(function(e){var a=J()[e.hashtagId],t=T(a,L());return n.a.createElement("div",{key:e.hashtagId},n.a.createElement("strong",null,a.hashtagName," - ",e.multiplier,"%"),n.a.createElement("br",null),t.map(function(e){return e.name}).join(", "))});return n.a.createElement("div",null,n.a.createElement("h3",null,"Card bonuses"),a)}(e.stage.cardBonuses),function(e){if(-1===e.findIndex(function(e){return"ALL"!==e.member||"ALL"!==e.trait}))return null;var a=ye()(e,function(e){return e.member+e.trait}),t=[];return Object.values(a).forEach(function(e,a){var r=e.length,c=e[0];"ALL"!==c.member&&"ALL"!==c.trait?t.push(n.a.createElement("div",{key:a},c.member,", ",n.a.createElement(K,{trait:c.trait,text:c.trait})," card x",r)):"ALL"!==c.member?t.push(n.a.createElement("div",{key:a},c.member," card x",r)):"ALL"!==c.trait&&t.push(n.a.createElement("div",{key:a},n.a.createElement(K,{trait:c.trait,text:c.trait})," card x",r))}),n.a.createElement("div",null,n.a.createElement("h3",null,"Card Requirements"),t)}(e.stage.cardRestrictions))},Se=function(e,a){var t=O(function(t){return G(t,e.stats[t],a)}),r=Object.values(t).reduce(function(e,a){return e+a}),n=function(e,a,t){var r=t.cardBonuses.find(function(e){return T(J()[e.hashtagId],L()).map(function(e){return e.name}).indexOf(a.name)>-1});return r?Math.floor(e*r.multiplier/100):0}(r,e,a),c=r+n;return Object(f.a)({},e,{effectiveStats:t,bonusScore:n,totalScore:c})};var Ce=function(e,a,t,r){var n=function(e,a){var t=a.map(function(a){return Se(a,e)}).sort(function(e,a){return-(e.totalScore-a.totalScore)}),r=[];return e.cardRestrictions.forEach(function(e){var a=t.filter(function(a){return("ALL"===e.member||e.member===a.member)&&("ALL"===e.trait||e.trait===a.primaryStat)}).filter(function(e){return!r.includes(e)});a.length>0&&r.push(a[0])}),r}(e,"leveled_up"===r?Object.keys(a).map(function(e){var t=L()[e];return H(t,Math.max(t.maxLevel1,a[e]))}):"upgraded_leveled_up"===r?Object.keys(a).map(function(e){var t=L()[e];return H(t,Math.max(t.maxLevel2,a[e]))}):Object.keys(a).map(function(e){return H(L()[e],a[e])}));return we(e,n,t)},we=function(e,a,t){var r=function(e,a){return O(function(t){return G(t,e[t],a)})}(t,e),n=Object.values(r).reduce(function(e,a){return e+a}),c=0===a.length?0:a.map(function(e){return e.totalScore}).reduce(function(e,a){return e+a}),_=c+n,s=[e.targetScore1,e.targetScore2,e.targetScore3].filter(function(e){return _>=e}).length,o=_>=e.targetScore1;return{stage:e,cards:a,cardScore:c,agencyScore:n,effectiveAgencyStats:r,stars:s,totalScore:_,pass:o}},xe=function(e){var a=e.stage,t=e.resultsMode;function r(e){for(var a="";a.length<e.stars;)a+="\u2605";for(;a.length<3;)a+="\u2606";return n.a.createElement("div",null,n.a.createElement("h3",null,"Total: ",U(e.totalScore)),n.a.createElement("h3",null,"Success! ",a))}function c(e){return n.a.createElement("div",null,n.a.createElement("h3",null,"Total: ",U(e.totalScore)),n.a.createElement("h4",null,"You need ",U(e.stage.targetScore1-e.totalScore)," more pts!"))}return n.a.createElement("div",null,n.a.createElement(ke,{stage:a,worldId:e.worldId}),0===Object.keys(e.ownedCards).length?n.a.createElement("p",null,e.noCardsSelectedMessage):n.a.createElement("div",null,n.a.createElement("h2",null,"Mission results"),e.resultModeSelector,"current"===t&&function(){var t=Ce(a,e.ownedCards,e.agencyStats,"current");return n.a.createElement("div",null,t.pass?r(t):c(t),n.a.createElement(be,{stageResults:t}))}(),"leveled_up"===t&&function(){var t=Ce(a,e.ownedCards,e.agencyStats,"leveled_up");return n.a.createElement("div",null,t.pass?r(t):c(t),n.a.createElement(be,{stageResults:t}))}(),"upgraded_leveled_up"===t&&function(){var t=Ce(a,e.ownedCards,e.agencyStats,"upgraded_leveled_up");return n.a.createElement("div",null,t.pass?r(t):c(t),n.a.createElement(be,{stageResults:t}))}(),"level_simulation"===t&&function(){var t=Ce(a,e.simulatedCardLevels,e.agencyStats,"current");return n.a.createElement("div",null,n.a.createElement("p",null,e.simulationInstructions),t.pass?r(t):c(t),n.a.createElement(be,{stageResults:t}))}()))},Oe=function(e){return n.a.createElement("div",null,n.a.createElement("h2",null,"Your agency stats"),n.a.createElement("h5",null,n.a.createElement("span",{style:{color:"red"}},"!IMPORTANT!")," You must enter the total agency stat and NOT THE LEVEL. You can find the agency stat by clicking BTS logo on the Agency screen."),x(function(a){return n.a.createElement("span",{key:"agency-".concat(a,"-field")},n.a.createElement("label",{htmlFor:"agency-".concat(a)},n.a.createElement(K,{trait:a,text:a})),"\xa0",n.a.createElement("input",{id:"agency-".concat(a),value:e.agencyStats[a],type:"number",min:"100",onChange:function(t){return e.updateAgencyStat(a,parseInt(t.target.value))}}))}))};function Ie(e,a){return Object(f.a)({},e,Object(m.a)({},a.type,a.value))}var Ae=function(e){var a=Object(r.useReducer)(Ie,{member:1===e.stage.allowableMembers.length?e.stage.allowableMembers[0]:"All",star:"All",primaryStat:"All"}),t=Object(s.a)(a,2),c=t[0],_=t[1],o=function(a,t){t>e.simulatedCardLevels[a]?d.simulation.increaseCardLevel():d.simulation.decreaseCardLevel(),e.updateSimulatedCardLevelMapping(Object(f.a)({},e.simulatedCardLevels,Object(m.a)({},a,t)))};function l(){d.simulation.resetLevels(),e.updateSimulatedCardLevelMapping(Object(f.a)({},e.cardCollection))}return n.a.createElement("div",null,n.a.createElement("h2",null,"Your simulated collection"),n.a.createElement(te,{columnConfigs:[{header:"Member",cell:"member",filter:{options:["All"].concat(Object(u.a)(v())),onChange:function(e){return _({type:"member",value:e})},value:c.member}},{header:"Star",cell:"star",filter:{options:["All","5","4","3","2","1"],onChange:function(e){return _({type:"star",value:e})},value:c.star}},{header:"Primary Trait",cell:function(e){return n.a.createElement(K,{trait:e.primaryStat,text:e.primaryStat})},filter:{options:["All","Empathy","Passion","Stamina","Wisdom"],onChange:function(e){return _({type:"primaryStat",value:e})},value:c.primaryStat}},{header:"Name",cell:"name"},{header:"Current Level",cell:"level"},{header:"Simulated level",cell:function(e){return n.a.createElement("input",{type:"number",min:e.originalLevel,value:e.level,onChange:function(a){return o(e.id,parseInt(a.target.value))}})},filter:function(){return n.a.createElement("button",{onClick:l},"Reset card levels")}},{header:n.a.createElement(K,{trait:"empathy",text:"Effective Empathy"}),cell:{value:"effectiveStats.empathy",formatter:U},options:{align:"right"}},{header:n.a.createElement(K,{trait:"passion",text:"Effective Passion"}),cell:{value:"effectiveStats.passion",formatter:U},options:{align:"right"}},{header:n.a.createElement(K,{trait:"stamina",text:"Effective Stamina"}),cell:{value:"effectiveStats.stamina",formatter:U},options:{align:"right"}},{header:n.a.createElement(K,{trait:"wisdom",text:"Effective Wisdom"}),cell:{value:"effectiveStats.wisdom",formatter:U},options:{align:"right"}}],data:Object.keys(e.cardCollection).map(function(a){return function(e,a,t,r){var n=Se(H(e,t),a);return Object(f.a)({},n,{originalLevel:r})}(L()[a],e.stage,e.simulatedCardLevels[a],e.cardCollection[a])}),filter:function(a){return function(e,a,t){var r=a.star,n=a.member,c=a.primaryStat;return("All"===r||parseInt(r)===e.star)&&("All"===n||n===e.member)&&("All"===c||c.toLowerCase()===e.primaryStat.toLowerCase())}(a,c,e.cardCollection)},sort:function(e,a){return-(e.totalScore-a.totalScore)}}))},Me=t(45),Le=t.n(Me),Ne=n.a.createContext({ownedCardsLevelMapping:{},updateCardLevel:function(){},removeCard:function(){},addCard:function(){},sortCardCollection:function(){},agencyStats:{empathy:100,passion:100,stamina:100,wisdom:100},updateAgencyStat:function(){}}),Re=function(e){var a=Le()("card-collection",{}),t=Object(s.a)(a,2),r=t[0],c=t[1],_=Le()("agency-stats",{empathy:100,passion:100,stamina:100,wisdom:100}),o=Object(s.a)(_,2),l=o[0],i=o[1];return n.a.createElement(Ne.Provider,{value:{ownedCardsLevelMapping:r,updateCardLevel:function(e,a){a>r[e]?d.collection.increaseCardLevel():d.collection.decreaseCardLevel(),c(Object(f.a)({},r,Object(m.a)({},e,a)))},addCard:function(e){d.collection.addCard(),c(Object(f.a)({},r,Object(m.a)({},e,1)))},removeCard:function(e){var a=Object(f.a)({},r);delete a[e],d.collection.removeCard(),c(a)},sortCardCollection:function(){d.collection.sort(),c(function(e){var a={};return Object.keys(e).map(function(a){return H(L()[a],e[a])}).sort($).forEach(function(e){a[e.id]=e.level}),a}(r))},agencyStats:l,updateAgencyStat:function(e,a){d.solver.updateAgencyStat(),i(Object(f.a)({},l,Object(m.a)({},e,a)))}}},function(){var e=Object(f.a)({},r);Object.keys(r).forEach(function(a){L()[a]||delete e[a]}),Object.keys(e).length!==Object.keys(r).length&&c(e)}(),e.children)},Be=(Ne.Consumer,function(e){var a=Object(r.useState)("0"),t=Object(s.a)(a,2),c=t[0],_=t[1],o=Object(r.useState)("MainStory"),l=Object(s.a)(o,2),i=l[0],u=l[1],m=Object(r.useState)({}),p=Object(s.a)(m,2),g=p[0],v=p[1],h=Object(r.useContext)(Ne),j=h.agencyStats,b=h.updateAgencyStat;return Object(r.useEffect)(function(){v(Object(f.a)({},e.ownedCards))},[e.ownedCards]),n.a.createElement("div",null,n.a.createElement("h1",null,"Simulate mission results"),n.a.createElement("select",{value:i,onChange:function(e){return a=e.target.value,d.solver.changeWorld(),u(a),void _("0");var a}},Object.keys(je()).map(function(e){return n.a.createElement("option",{key:e},e)})),n.a.createElement("select",{value:c,onChange:function(e){return a=e.target.value,d.solver.changeStage(),void _(a);var a}},n.a.createElement("option",{value:"0"},"Select a stage"),Object.keys(je()[i]).map(function(e){return n.a.createElement("option",{key:e},e)})),"0"!==c&&n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("button",{onClick:function(){var e=Object.keys(je()[i]),a=e.indexOf(c);d.solver.prevStage(),_(e[Math.max(a-1,0)])}},"\u2190 Previous mission"),n.a.createElement("button",{onClick:function(){var e=Object.keys(je()[i]),a=e.indexOf(c);d.solver.nextStage(),_(e[Math.min(a+1,e.length-1)])}},"Next mission \u2192")),n.a.createElement(xe,{ownedCards:e.ownedCards,noCardsSelectedMessage:"Add cards to your collection to simulate mission results.",simulatedCardLevels:g,simulationInstructions:n.a.createElement("i",null,"Use the 'Simulated level' column in ",n.a.createElement("strong",null,"Your simulated collection")," to see the results of leveling up any of your cards. The simulated card levels will not overwrite your stored card data."),agencyStats:j,resultsMode:e.resultsMode,resultModeSelector:n.a.createElement("select",{value:e.resultsMode,onChange:function(a){return e.handleSetStageResultsMode(a.currentTarget.value)}},n.a.createElement("option",{value:"current"},"Show best results with current cards"),n.a.createElement("option",{value:"leveled_up"},"Show best possible results with current cards leveled up"),n.a.createElement("option",{value:"upgraded_leveled_up"},"Show best possible results with current cards upgraded/leveled up"),n.a.createElement("option",{value:"level_simulation"},"Manually try out levels in my card collection")),stage:je()[i][c],worldId:i}),"level_simulation"===e.resultsMode&&n.a.createElement(Ae,{cardCollection:e.ownedCards,simulatedCardLevels:g,updateSimulatedCardLevelMapping:v,stage:je()[i][c]})),n.a.createElement(Oe,{agencyStats:j,updateAgencyStat:b}))}),Pe=function(){var e=Object(r.useState)("current"),a=Object(s.a)(e,2),t=a[0],c=a[1],_=Object(r.useContext)(Ne),o=_.ownedCardsLevelMapping,l=_.removeCard,i=_.addCard,u=_.updateCardLevel,m=_.sortCardCollection;return n.a.createElement("div",null,n.a.createElement(Be,{ownedCards:o,resultsMode:t,handleSetStageResultsMode:function(e){d.solver.updateStageResultType(e),c(e)}}),"level_simulation"!==t&&n.a.createElement(le,{cardCollection:o,removeCardFromCollection:l,updateCardLevel:u,resortCardCollection:m}),n.a.createElement("h1",null,"Card Database"),n.a.createElement(se,{cardCollection:o,addCardToCollection:function(e){return i(e)}}))},Te=function(e,a){return Object.values(a).filter(function(a){return e.allowableMembers.indexOf(a.member)>=0}).map(function(a){return Se(H(a,z(a)),e)}).sort(function(e,a){return-(e.totalScore-a.totalScore)})};t(220);var We=function(){var e=function(e,a){var t={};return Object.keys(e).forEach(function(r){var n=e[r],c=a["AnotherStory-".concat(n.member)],_=Object.values(c).find(function(e){return e.craftableCardId===r}),s=!1,o=0;_&&(s=!0,o=5*(_.chapter-1)),t[r]={gemDraw:R.gem.indexOf(r)>-1,coinDraw:R.gold.indexOf(r)>-1,blueBox:R.blue.indexOf(r)>-1,yellowBox:R.yellow.indexOf(r)>-1,purpleBox:R.purple.indexOf(r)>-1,memberDrawTicket:R.memberDraw.indexOf(r)>-1,craftable:s,memberAffinity:o}}),t}(L(),C());var a=Object(r.useState)("0"),t=Object(s.a)(a,2),c=t[0],_=t[1],o=Object(r.useState)("MainStory"),l=Object(s.a)(o,2),i=l[0],m=l[1],p=Object(r.useState)([]),g=Object(s.a)(p,2),v=g[0],h=g[1],j=Object(r.useContext)(Ne),b=j.ownedCardsLevelMapping,E=j.agencyStats;function y(){var e=Object.keys(je()[i]),a=e.indexOf(c);d.recommendations.prevStage(),_(e[Math.max(a-1,0)])}function k(){var e=Object.keys(je()[i]),a=e.indexOf(c);d.recommendations.nextStage(),_(e[Math.min(a+1,e.length-1)])}function S(a){return[{header:"",cell:function(e){return n.a.createElement("label",{className:"checkbox-label"},n.a.createElement("input",{type:"checkbox",checked:v.indexOf(e.id)>-1,disabled:v.indexOf(e.id)<0&&v.length===a.numCards,onChange:function(){return a=e.id,void(v.indexOf(a)>-1?(d.recommendations.unselectCard(),h(v.filter(function(e){return e!==a}))):(d.recommendations.selectCard(),h([].concat(Object(u.a)(v),[a]))));var a},value:e.id}),n.a.createElement("span",{className:"checkbox-custom"}))}},{header:"Member",cell:"member"},{header:"Star",cell:"star"},{header:"Primary Trait",cell:function(e){return n.a.createElement(K,{trait:e.primaryStat,text:e.primaryStat})}},{header:"Name",cell:function(e){var a=b.hasOwnProperty(e.id),t=e.isCandidate?"candidate":"useless";return n.a.createElement("span",{className:t,style:{fontWeight:a?"bold":"normal"}},e.name," ",e.isBest?"\ud83d\udc4d":"")}},{header:"Level",cell:function(e){return b.hasOwnProperty(e.id)?"".concat(e.level," (").concat(b[e.id],")"):e.level}},{header:"How to obtain?",cell:function(a){return function(a){var t=e[a];return n.a.createElement("div",null,t.craftable&&n.a.createElement("span",{className:"obtainable"},"(\ud83e\udde9 ".concat(t.memberAffinity,")")),t.yellowBox&&n.a.createElement("span",{className:"obtainable yellowBox"},"5\u2605"),t.purpleBox&&n.a.createElement("span",{className:"obtainable purpleBox"},"5\u2605"),t.blueBox&&n.a.createElement("span",{className:"obtainable blueBox"},"4-5\u2605"),t.gemDraw&&n.a.createElement("span",{className:"obtainable"},"\ud83d\udc8e"),t.coinDraw&&n.a.createElement("span",{className:"obtainable"},"\ud83d\udcb5"),t.memberDrawTicket&&n.a.createElement("span",{className:"obtainable"},"\ud83c\udfab"))}(a.id)}},{header:"Total",cell:{value:"totalScore",formatter:U},options:{align:"right"}},{header:n.a.createElement(K,{trait:"empathy",text:"Empathy"}),cell:{value:"stats.empathy",formatter:U},options:{align:"right"}},{header:n.a.createElement(K,{trait:"passion",text:"Passion"}),cell:{value:"stats.passion",formatter:U},options:{align:"right"}},{header:n.a.createElement(K,{trait:"stamina",text:"Stamina"}),cell:{value:"stats.stamina",formatter:U},options:{align:"right"}},{header:n.a.createElement(K,{trait:"wisdom",text:"Wisdom"}),cell:{value:"stats.wisdom",formatter:U},options:{align:"right"}}]}return n.a.createElement("div",null,n.a.createElement("h1",null,"Recommend card for missons"),n.a.createElement("p",null,"Stuck on a level and not sure which card to get or which card will help? This page will allow you to see how every card in the game perform on each stage when they are at their max level. See which card is best and how to obtain them."),n.a.createElement("h3",null,"Instructions"),n.a.createElement("ul",null,n.a.createElement("li",null,"Select a stage then select cards by checking the checkbox on each row."),n.a.createElement("li",null,"Experiement with different combinations to see how to you can pass the mission."),n.a.createElement("li",null,"Cards with ","\ud83d\udc4d"," are the best for this stage."),n.a.createElement("li",null,n.a.createElement("strong",null,n.a.createElement("span",{style:{color:"red"}},"!IMPORTANT!"))," You need at least one ","\ud83d\udc4d"," card to pass the stage."),n.a.createElement("li",null,"Cards that are ",n.a.createElement("strong",null,"bolded")," are already in your collection. Go to the Calculator screen to add cards to your collection."),n.a.createElement("li",null,"Cards that appear like ",n.a.createElement("span",{className:"useless"},"THIS")," cannot help you pass the stage based on your already selected cards."),n.a.createElement("li",null,n.a.createElement("strong",null,"How to obtain?"),n.a.createElement("br",null),"(\ud83e\udde9 XX)"," = card is craftable when you reach XX afinity with that member.",n.a.createElement("br",null),n.a.createElement("span",{className:"blueBox"},"4-5\u2605")," = card can be obtained through the Blue Box (4-5 star random draw)",n.a.createElement("br",null),n.a.createElement("span",{className:"yellowBox"},"5\u2605")," = card can be obtained through the Yellow Box (5 star random draw)",n.a.createElement("br",null),n.a.createElement("span",{className:"purpleBox"},"5\u2605")," = card can be obtained through the I Purple You Box (5 star selector)",n.a.createElement("br",null),"\ud83c\udfab"," = card can be obtained through ","4-5\u2605"," member random draw ticket. Draw ticket is a Challenge Completion Reward",n.a.createElement("br",null),"\ud83d\udc8e"," = card can come from the gem draw",n.a.createElement("br",null),"\ud83d\udcb5"," = card can come from the coin draw")),n.a.createElement("select",{value:i,onChange:function(e){return a=e.target.value,d.recommendations.changeWorld(),m(a),_("0"),void h([]);var a}},Object.keys(je()).map(function(e){return n.a.createElement("option",{key:e},e)})),n.a.createElement("select",{value:c,onChange:function(e){return a=e.target.value,d.recommendations.changeStage(),_(a),void h([]);var a}},n.a.createElement("option",{value:"0"},"Select a stage"),Object.keys(je()[i]).map(function(e){return n.a.createElement("option",{key:e},e)})),"0"!==c&&function(){var e=je()[i][c],a=Te(e,L()),t=function(e,a,t,r){return we(e,t.filter(function(e){return a.indexOf(e.id)>-1}),r)}(e,v,a,E),r={};v.forEach(function(e){return r[e]=z(L()[e])});var _=function(e,a,t,r,n){var c=function(e,a,t){for(var r=e.numCards,n=e.targetScore1-t,c=[],_=0,s=0;s<r;s++)c.push(a[s].id),_+=a[s].totalScore;if(_<n)return[];for(var o=r;o<a.length&&(_+=a[o].totalScore,(_-=a[o-r].totalScore)>=n);)c.push(a[o].id),o++;return c}(e,a,n),_={};a.forEach(function(e){return _[e.id]=e});for(var s=t,o=0;o<e.numCards-r-1;o++)s+=_[c[o]].totalScore;var l=e.targetScore1-s;return a.map(function(e){return Object(f.a)({},e,{isBest:c.indexOf(e.id)>-1,isCandidate:_[e.id].totalScore>=l})})}(e,a,t.totalScore,v.length,t.agencyScore);return n.a.createElement("div",null,n.a.createElement("div",null,n.a.createElement("button",{onClick:y},"\u2190 Previous mission"),n.a.createElement("button",{onClick:k},"Next mission \u2192")),n.a.createElement(xe,{resultsMode:"level_simulation",ownedCards:{a:1},stage:e,worldId:i,simulationInstructions:"",simulatedCardLevels:r,agencyStats:E}),n.a.createElement("h2",null,"Candidate Cards"),n.a.createElement(te,{columnConfigs:S(e),data:_,filter:function(e){return v.length>0||e.isBest||e.isCandidate}}))}())},De=(t(74),function(){var e=Object(r.useContext)(Ne).ownedCardsLevelMapping,a=n.a.createRef();return n.a.createElement("div",null,n.a.createElement("h1",null,"Export your card data"),n.a.createElement(o.b,{exact:!0,onClick:function(){return d.changePage("/export")},to:"/import"},"Click here to import your previously exported data"),n.a.createElement("p",null,"Backup your card collection by copying the data below to a safe place. Your agency stat is not included."),n.a.createElement("div",null,n.a.createElement("button",{onClick:function(){a.current&&(d.importExport.selectAll(),a.current.focus(),a.current.select())}},"Select all")),n.a.createElement("textarea",{ref:a,readOnly:!0,value:JSON.stringify(e)}))}),Ye=function(){var e=Object(r.useState)(""),a=Object(s.a)(e,2),t=a[0],c=a[1],_=n.a.createRef();var o=function(){if(0===t.trim().length)return!1;try{var e=JSON.parse(t);return"object"===typeof e&&(Object.entries(e).forEach(function(e){var a=Object(s.a)(e,2),t=a[0],r=a[1];return"string"===typeof t&&"number"===typeof r&&void 0}),!0)}catch(a){return!1}}();return n.a.createElement("div",null,n.a.createElement("h1",null,"Import your card data"),n.a.createElement("p",null,"Restore your backup card data. Don't forget to update your agency stats afterwards ;)"),n.a.createElement("textarea",{ref:_,value:t,placeholder:"Paste your data here",onChange:function(e){return c(e.currentTarget.value)}}),n.a.createElement("div",null,t.length>0&&!o&&n.a.createElement("p",null,"The data is invalid."),n.a.createElement("button",{onClick:function(){d.importExport.save(),window.localStorage.setItem("card-collection",t),window.location.href="/"},disabled:!o},"Save and reload page")))},Fe=function(){var e=Object(r.useState)(!1),a=Object(s.a)(e,2),t=a[0],c=a[1];function _(e){d.changePage(e)}return Object(r.useEffect)(function(){Promise.all([M(),he(),F(),S()]).then(function(){c(!0)})},[]),t?n.a.createElement("div",{className:"App"},n.a.createElement(o.a,null,n.a.createElement("header",null,n.a.createElement("nav",{className:"nav-container"},n.a.createElement(o.b,{className:"nav-item",exact:!0,onClick:function(){return _("/")},to:"/"},"Calculator"),n.a.createElement(o.b,{className:"nav-item",exact:!0,onClick:function(){return _("/card-recommendations")},to:"/card-recommendations"},"Card recommendation"),n.a.createElement(o.b,{className:"nav-item",exact:!0,onClick:function(){return _("/mission-rewards")},to:"/mission-rewards"},"Mission Reward Stats / Craftable Cards"),n.a.createElement(o.b,{className:"nav-item",exact:!0,onClick:function(){return _("/export")},to:"/export"},"Export/Import"),n.a.createElement("div",{className:"nav-spacer"}),n.a.createElement("div",{className:"update-date"},"Follow ",n.a.createElement("a",{href:"https://twitter.com/btswcalc"},"@btswcalc")," for updates"))),n.a.createElement(l.c,null,n.a.createElement(Re,null,n.a.createElement(l.a,{path:"/mission-rewards",exact:!0,component:ce}),n.a.createElement(l.a,{path:"/card-recommendations",exact:!0,component:We}),n.a.createElement(l.a,{path:"/export",exact:!0,component:De}),n.a.createElement(l.a,{path:"/import",exact:!0,component:Ye}),n.a.createElement(l.a,{path:"/",exact:!0,component:Pe}))))):n.a.createElement("div",null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));_.a.render(n.a.createElement(Fe,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},74:function(e,a,t){},77:function(e,a,t){e.exports=t.p+"static/media/consumable_main_stage_reward.b2e634d8.csv"},78:function(e,a,t){e.exports=t.p+"static/media/consumable_another_stage_reward.55505d2b.csv"},79:function(e,a,t){e.exports=t.p+"static/media/consumable_cards.a98d8444.csv"},80:function(e,a,t){e.exports=t.p+"static/media/event_hashtags.c9afaf7d.csv"},81:function(e,a,t){e.exports=t.p+"static/media/consumable_main_stage.34f6b2e4.csv"},82:function(e,a,t){e.exports=t.p+"static/media/consumable_another_stages.d968c132.csv"},83:function(e,a,t){e.exports=t.p+"static/media/halloween_19_event_stage.293efd0b.csv"},87:function(e,a,t){e.exports=t(225)},94:function(e,a,t){},95:function(e,a,t){}},[[87,1,2]]]);